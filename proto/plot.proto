syntax = "proto3";
import "google/protobuf/empty.proto";

// -- Axis Messages --
message AddAxisRequest {
    uint32 axis_id = 1;
    uint32 number_of_samples = 2;

    string plot_title = 3;
    string x_axis_title = 4;
    string y_axis_title = 5;
}

message RemoveAxisRequest {
    uint32 axis_id = 1;
}

// -- Signal Messages --
message AddSignalRequest {
  uint32 axis_id = 1; // axis to attach the signal to
  uint32 signal_id = 2;
  string signal_name = 3;
  optional string signal_color = 4; // if not specified, pick at random by the server
}

message RemoveSignalRequest {
  uint32 signal_id = 1;
}

// -- Streaming Messages --
message streamPoint {
  uint32 signal_id = 1;
  float value = 3;
}

message streamPointRequest {
  repeated streamPoint points = 1;
}

// 

service PlotService {
  // Configure
  rpc AddAxis(AddAxisRequest) returns (google.protobuf.Empty);
  rpc RemoveAxis(RemoveAxisRequest) returns (google.protobuf.Empty);

  rpc AddSignal(AddSignalRequest) returns (google.protobuf.Empty);
  rpc RemoveSignal(RemoveSignalRequest) returns (google.protobuf.Empty);

  rpc clearAll(google.protobuf.Empty) returns (google.protobuf.Empty);
 

  // Stream
  rpc streamPlot (stream streamPointRequest) returns (google.protobuf.Empty);
}